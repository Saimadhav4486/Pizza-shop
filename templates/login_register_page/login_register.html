<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'login_register.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Log in</title>
</head>
<body>
    <div class="container">
        <div class="left">
            <div class="card">
                <div class="side front">
                    <!-- <img src="mcolins logo.jpeg" class="bg-image" alt="" style="position:relative;width:100%;height:100%"> -->
                </div>
                <div class="side back">
                    <div class="register-box">
                        <h1>Register</h1>
                        <form action="{% url 'register' %}" method="post">
                            {% csrf_token %}
                            <div class="box">
                                <input type="text" name="reg-name" placeholder="Name">
                                <i class="fa-solid fa-user"></i>
                            </div>
                            <div class="box">
                                <input type="email" name="reg-email" placeholder="E-Mail">
                                <i class="fa-solid fa-user"></i>
                            </div>
                            <div class="box">
                                <input type="password" name="reg-password" placeholder="Password">
                                <div class="icon">
                                    <i class="fa-solid fa-lock lock"></i>
                                    <i class="fa-solid fa-unlock unlock"></i>
                                </div>
                            </div>
                            <div class="box">
                                <input type="password" name="reg-re-password" placeholder="Re-Enter Password">
                                <div class="icon">
                                    <i class="fa-solid fa-lock lock"></i>
                                    <i class="fa-solid fa-unlock unlock"></i>
                                </div>
                            </div>
                            <button type="submit" class="reg-post">Register</button>
                            {% if messages %}
                            <div class="messages">
                                {% for message in messages %}
                                    <p>{{ message }}</p>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </form>
                        <div class="register">
                            <p>Have Account ?</p>
                            <a href="" class="register_button">Login</a>
                        </div>
                        <hr>
                        <div class="social">
                            <p>Register using google</p>
                            <a href=""><img src="{% static 'images/google_image.png' %}" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right">
            <div class="card">
                <div class="side front">
                    <div class="login-box">
                        <h1>Login</h1>
                        <form action="{% url 'login' %}" method="post">
                            {% csrf_token %}
                            <div class="box">
                                <input type="email" name="login-email" placeholder="E-Mail">
                                <i class="fa-solid fa-user"></i>
                            </div>
                            <div class="box">
                                <input type="password" name="login-password" placeholder="Password">
                                <div class="icon">
                                    <i class="fa-solid fa-lock lock"></i>
                                    <i class="fa-solid fa-unlock unlock"></i>
                                </div>
                            </div>
                            {% if messages %}
                            <div class="messages">
                                {% for message in messages %}
                                    <p>{{ message }}</p>
                                {% endfor %}
                            </div>
                            {% endif %}
                            <button type="submit" class="login-post">Log in</button>
                        </form>
                        <div class="register">
                            <p>No Account ?</p>
                            <a href="" class="login_button">Register</a>
                        </div>
                        <hr>
                        <div class="social">
                            <p>Log in with google</p>
                            <a href=""><img src="{% static 'images/google_image.png' %}" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="side back">
                    <!-- <img src="mcolins logo.jpeg" class="bg-image" alt="" style="position:relative;width:100%;height:100%"> -->
                </div>
            </div>
        </div>
    </div>
    <script>
        const regButton = document.querySelector(".register_button");
        const loginButton = document.querySelector(".login_button");
        const container = document.querySelector(".container");
        const titleElement = document.querySelector("title");

        regButton.addEventListener('click', (event) => {
            event.preventDefault();
            container.classList.remove("flip");
            titleElement.innerText = "Login";
        });

        loginButton.addEventListener('click', (event) => {
            event.preventDefault();
            container.classList.add("flip");
            titleElement.innerText = "Register";
        });

        setTimeout(function() {
            var messages = document.querySelector(".messages");
            if (messages) {
                messages.style.opacity = "0";
                setTimeout(function() {
                    messages.style.display = "none";
                }, 1000); // 1 second delay before hiding
            }
        }, 10000);
    </script>
</body>
</html>